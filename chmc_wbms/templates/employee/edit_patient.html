{% extends 'employee/employee_base.html' %}

{% block title %}Edit Profile{% endblock %}


{% load static %}
{% load widget_tweaks %}
{% block content %}
  <h2>Edit Patient: {{ patient.first_name }} {{ patient.last_name }}</h2>

  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    
    <!-- First Name -->
    <div class="form-floating mb-3">
      <input type="text" name="first_name" value="{{ patient.first_name }}" class="form-control" id="id_first_name">
      <label for="id_first_name">First Name</label>
    </div>

    <!-- Middle Name -->
    <div class="form-floating mb-3">
      <input type="text" name="middle_name" value="{{ patient.middle_name|default:'' }}" class="form-control" id="id_middle_name">
      <label for="id_middle_name">Middle Name</label>
    </div>

    <!-- Last Name -->
    <div class="form-floating mb-3">
      <input type="text" name="last_name" value="{{ patient.last_name }}" class="form-control" id="id_last_name">
      <label for="id_last_name">Last Name</label>
    </div>

    <!-- Age -->
    <div class="form-floating mb-3">
      <input type="number" name="age" value="{{ patient.age }}" class="form-control" id="id_age">
      <label for="id_age">Age</label>
    </div>

    <!-- Sex -->
    <div class="form-floating mb-3">
      <select name="sex" class="form-select" id="id_sex">
        <option value="Male" {% if patient.sex == 'Male' %}selected{% endif %}>Male</option>
        <option value="Female" {% if patient.sex == 'Female' %}selected{% endif %}>Female</option>
      </select>
      <label for="id_sex">Sex</label>
    </div>

    <!-- Contact Number -->
    <div class="form-floating mb-3">
      <input type="text" name="contact_number" value="{{ patient.contact_number }}" class="form-control" id="id_contact_number">
      <label for="id_contact_number">Contact Number</label>
    </div>

    <!-- Address -->
    <div class="form-floating mb-3">
      <input type="text" name="address" value="{{ patient.address }}" class="form-control" id="id_address">
      <label for="id_address">Address</label>
    </div>

    <!-- Submit Button -->
    <div class="form-group">
      <button type="submit" class="btn btn-primary">Save Changes</button>
    </div>
  </form>

  <a href="{% url 'employee_patients_list_with_id' patient.id %}">Back to Patients List</a>

{% endblock %}